<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastering JavaScript Event Handling - Lesson 1 | rws8.tech</title>
    <meta name="description" content="Learn JavaScript Event Handling - respond to user interactions with event listeners and delegation.">
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <style>
        .lesson-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        .objectives-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .objectives-box h3 {
            margin-top: 0;
            color: #007bff;
        }
        .lesson-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid #e9ecef;
        }
        .tip-box {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="/" class="logo">rws8.tech</a>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/tutorials.html">Tutorials</a></li>
                <li><a href="/about.html">About</a></li>
            </ul>
        </div>
    </nav>

    <div class="breadcrumbs">
        <div class="container">
            <a href="/">Home</a> &gt; 
            <a href="/tutorials.html">Tutorials</a> &gt; 
            <a href="/tutorials/javascript/index.html">JavaScript</a> &gt; 
            <a href="index.html">Event Handling</a> &gt; 
            <span>Lesson 1</span>
        </div>
    </div>

    <header class="page-header">
        <div class="container">
            <h1>Mastering Event Handling</h1>
            <p class="subtitle">Respond to User Interactions</p>
        </div>
    </header>

    <main class="content-section">
        <div class="lesson-content">
            <div class="objectives-box">
                <h3>Learning Objectives</h3>
                <ul>
                    <li>Add and remove event listeners</li>
                    <li>Understand event bubbling and capturing</li>
                    <li>Use event delegation for performance</li>
                    <li>Handle common events (click, input, submit)</li>
                    <li>Apply event handling best practices</li>
                </ul>
            </div>

            <h2>Adding Event Listeners</h2>

            <pre><code class="language-javascript">const button = document.querySelector('#myButton');

// Modern way - addEventListener
button.addEventListener('click', (event) => {
    console.log('Button clicked!');
    console.log('Event object:', event);
});

// Can add multiple listeners
function handler1() {
    console.log('Handler 1');
}

function handler2() {
    console.log('Handler 2');
}

button.addEventListener('click', handler1);
button.addEventListener('click', handler2);

// Remove listener
button.removeEventListener('click', handler1);

// Options
button.addEventListener('click', handler, {
    once: true,      // Remove after first call
    passive: true,   // Won't call preventDefault
    capture: false   // Use bubbling phase
});
</code></pre>

            <h2>Event Object</h2>

            <pre><code class="language-javascript">button.addEventListener('click', (event) => {
    // Event properties
    event.target;        // Element that triggered event
    event.currentTarget; // Element with listener attached
    event.type;          // Event type ('click')
    event.timeStamp;     // When event occurred
    
    // Event methods
    event.preventDefault();  // Prevent default action
    event.stopPropagation(); // Stop event bubbling
    event.stopImmediatePropagation(); // Stop other listeners
    
    // Mouse event specific
    event.clientX;  // X coordinate
    event.clientY;  // Y coordinate
    event.button;   // Which mouse button
    
    // Keyboard event specific
    event.key;      // Key pressed
    event.code;     // Physical key code
    event.ctrlKey;  // Ctrl pressed?
    event.shiftKey; // Shift pressed?
});
</code></pre>

            <h2>Event Delegation</h2>

            <pre><code class="language-javascript">// Instead of adding listeners to many items
const list = document.querySelector('#todoList');

// Add one listener to parent
list.addEventListener('click', (event) => {
    // Check if clicked element matches
    if (event.target.matches('.delete-btn')) {
        const item = event.target.closest('.todo-item');
        item.remove();
    }
    
    if (event.target.matches('.todo-checkbox')) {
        const item = event.target.closest('.todo-item');
        item.classList.toggle('completed');
    }
});

// Benefits:
// 1. Better performance (one listener vs many)
// 2. Works for dynamically added items
// 3. Less memory usage
</code></pre>

            <h2>Common Events</h2>

            <pre><code class="language-javascript">// Click events
element.addEventListener('click', handler);
element.addEventListener('dblclick', handler);
element.addEventListener('contextmenu', handler); // Right-click

// Input events
input.addEventListener('input', handler);   // Every keystroke
input.addEventListener('change', handler);  // After blur
input.addEventListener('focus', handler);
input.addEventListener('blur', handler);

// Form events
form.addEventListener('submit', (e) => {
    e.preventDefault(); // Stop form submission
    const formData = new FormData(form);
    // Process form data
});

form.addEventListener('reset', handler);

// Keyboard events
document.addEventListener('keydown', (e) => {
    console.log('Key pressed:', e.key);
    
    if (e.key === 'Enter') {
        console.log('Enter pressed');
    }
    
    if (e.ctrlKey && e.key === 's') {
        e.preventDefault();
        console.log('Ctrl+S pressed');
    }
});

document.addEventListener('keyup', handler);
document.addEventListener('keypress', handler); // Deprecated

// Mouse events
element.addEventListener('mouseenter', handler);
element.addEventListener('mouseleave', handler);
element.addEventListener('mousemove', handler);
element.addEventListener('mousedown', handler);
element.addEventListener('mouseup', handler);

// Touch events (mobile)
element.addEventListener('touchstart', handler);
element.addEventListener('touchmove', handler);
element.addEventListener('touchend', handler);

// Window events
window.addEventListener('load', handler);     // Page fully loaded
window.addEventListener('resize', handler);   // Window resized
window.addEventListener('scroll', handler);   // Page scrolled
window.addEventListener('beforeunload', handler); // Before leaving
</code></pre>

            <h2>Event Bubbling and Capturing</h2>

            <pre><code class="language-javascript">// Event flow: Capturing → Target → Bubbling

// Bubbling (default) - from target up to root
document.querySelector('#child').addEventListener('click', () => {
    console.log('1. Child clicked');
});

document.querySelector('#parent').addEventListener('click', () => {
    console.log('2. Parent clicked');
});

document.body.addEventListener('click', () => {
    console.log('3. Body clicked');
});

// Clicking child logs: 1, 2, 3

// Stop bubbling
child.addEventListener('click', (e) => {
    e.stopPropagation();
    console.log('Only child fires');
});

// Capturing phase - from root down to target
parent.addEventListener('click', () => {
    console.log('Parent (capturing)');
}, true); // true = use capturing
</code></pre>

            <h2>Real-World Examples</h2>

            <h3>Form Validation</h3>

            <pre><code class="language-javascript">const form = document.querySelector('#signupForm');
const email = document.querySelector('#email');
const password = document.querySelector('#password');

// Real-time validation
email.addEventListener('input', (e) => {
    const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.target.value);
    e.target.classList.toggle('invalid', !isValid);
});

password.addEventListener('input', (e) => {
    const isValid = e.target.value.length >= 8;
    e.target.classList.toggle('invalid', !isValid);
});

// Form submission
form.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const formData = new FormData(form);
    const data = Object.fromEntries(formData);
    
    console.log('Submitting:', data);
    // Send to server
});
</code></pre>

            <h3>Debouncing Search</h3>

            <pre><code class="language-javascript">function debounce(fn, delay) {
    let timeout;
    return function(...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => fn.apply(this, args), delay);
    };
}

const searchInput = document.querySelector('#search');

const performSearch = debounce((query) => {
    console.log('Searching for:', query);
    // API call here
}, 300);

searchInput.addEventListener('input', (e) => {
    performSearch(e.target.value);
});
</code></pre>

            <h2>Best Practices</h2>

            <div class="tip-box">
                <strong>1. Use event delegation for lists</strong>
                <pre><code class="language-javascript">// Good - one listener
list.addEventListener('click', (e) => {
    if (e.target.matches('.item')) {
        // Handle
    }
});

// Bad - many listeners
items.forEach(item => {
    item.addEventListener('click', handler);
});
</code></pre>
            </div>

            <div class="tip-box">
                <strong>2. Remove listeners to prevent memory leaks</strong>
                <pre><code class="language-javascript">const handler = () => console.log('clicked');

element.addEventListener('click', handler);

// Later, when done
element.removeEventListener('click', handler);
</code></pre>
            </div>

            <div class="tip-box">
                <strong>3. Debounce expensive operations</strong>
                <pre><code class="language-javascript">window.addEventListener('resize', debounce(() => {
    // Expensive layout calculations
}, 250));
</code></pre>
            </div>

            <h2>Key Takeaways</h2>

            <ul>
                <li>Use <code>addEventListener</code> for modern event handling</li>
                <li>Event delegation improves performance for lists</li>
                <li>Events bubble up from target to root by default</li>
                <li>Use <code>preventDefault()</code> to stop default behavior</li>
                <li>Use <code>stopPropagation()</code> to stop event bubbling</li>
                <li>Debounce expensive event handlers (scroll, resize, input)</li>
                <li>Remove event listeners when elements are removed</li>
                <li>Event object contains useful information about the event</li>
            </ul>

            <div class="lesson-nav">
                <a href="index.html" class="btn btn-secondary">← Back to Overview</a>
                <a href="/tutorials/javascript/index.html" class="btn btn-primary">More JavaScript Tutorials →</a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 rws8.tech. All rights reserved.</p>
            <div class="social-links">
                <a href="https://github.com/bohdaq" target="_blank">GitHub</a>
                <a href="https://www.linkedin.com/in/bohdan-tsap/" target="_blank">LinkedIn</a>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
</body>
</html>
